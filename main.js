!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=document.querySelector(".profile__edit-button"),r=document.querySelector("#profile-title-input"),s=document.querySelector("#profile-bio-input"),o=document.forms["profile-edit-form"],a=document.querySelector(".profile__add-button"),i=document.forms["add-card-form"],n=document.querySelector(".profile__avatar-edit-button"),l=document.forms["change-avatar-form"];class d{constructor(e,t){let{data:r,handleImageClick:s,handleLikeClick:o,handleDeleteCardClick:a}=e;this.name=r.name,this.link=r.link,this._id=r._id,this._isLiked=r.isLiked,this._cardSelector=t,this._handleImageClick=s,this._handleLikeClick=o,this._handleDeleteCardClick=a}getId(){return this._id}_setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCardClick(this)}))}handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}_handleLikeIcon(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}handleLike(e){this._isLiked=e,this._handleLikeIcon()}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImage.src=this.link,this._cardImage.alt=this.name,this._cardElement.querySelector(".card__title").textContent=this.name,this._setEventListeners(),this._handleLikeIcon(),this._cardElement}}class c{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=t,this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitButton=this._formEl.querySelector(this._submitButtonSelector)}_showInputError(e){this._errorMessageEl=this._formEl.querySelector(`#${e.id}-error`),e.classList.add(this._inputErrorClass),this._errorMessageEl.textContent=e.validationMessage,this._errorMessageEl.classList.add(this._errorClass)}_hideInputError(e){this._errorMessageEl=this._formEl.querySelector(`#${e.id}-error`),e.classList.remove(this._inputErrorClass),this._errorMessageEl.textContent=" ",this._errorMessageEl.classList.remove(this._errorClass)}toggleButtonState(){if(this._hasInvalidInput(this._inputEls))return this.disableButton();this._enableButton()}resetValidation(){this.toggleButtonState(),this._inputEls.forEach((e=>{this._hideInputError(e)}))}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_hasInvalidInput(e){return!e.every((e=>e.validity.valid))}_checkFormValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkFormValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class h{constructor(e){let{modalSelector:t}=e;this._modalElement=document.querySelector(t)}open(){this._modalElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._modalElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"!==e.key&&"esc"!==e.key&&27!==e.keyCode||this.close()};setEventListeners(){this._modalElement.querySelector(".modal__close").addEventListener("click",(()=>{this.close()})),this._modalElement.addEventListener("click",(e=>{e.target===this._modalElement&&this.close()}))}}class u extends h{constructor(e){let{modalSelector:t,handleFormSubmit:r}=e;super({modalSelector:t}),this._modalForm=this._modalElement.querySelector(".modal__form"),this._handleFormSubmit=r,this._inputList=[...this._modalForm.querySelectorAll(".modal__input")],this._saveButton=this._modalForm.querySelector(".modal__button")}confirmDelete(e){this._handleFormSubmit=e}_getInputValues(){return this._inputValues={},this._inputList.forEach((e=>{this._inputValues[e.name]=e.value})),this._inputValues}close(){this._modalForm.reset(),super.close()}renderLoading(e){this._saveButton.textContent=e?"Saving...":"Save"}setEventListeners(){super.setEventListeners(),this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()}))}}const m=new class{constructor(e){let{baseURL:t,authToken:r}=e;this._baseURL=t,this._authToken=r}getUserInfo(){return fetch(`${this._baseURL}//users/me`,{headers:{authorization:this._authToken}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>console.error(e)))}getInitialCards(){return fetch(`${this._baseURL}/cards`,{headers:{authorization:this._authToken}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>console.error(e)))}getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}editProfile(e){let{name:t,about:r}=e;return fetch(`${this._baseURL}/users/me`,{method:"PATCH",headers:{authorization:this._authToken,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:r})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}addCard(e){let{name:t,link:r}=e;return fetch(`${this._baseURL}/cards`,{method:"POST",headers:{authorization:this._authToken,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:r})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}likeCardStatus(e,t){return fetch(`${this._baseURL}/cards/${e}/likes`,{method:t?"PUT":"DELETE",headers:{authorization:this._authToken,"Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}deleteCard(e){return fetch(`${this._baseURL}/cards/${e}`,{method:"DELETE",headers:{authorization:this._authToken,"Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}changeAvatar(e){return fetch(`${this._baseURL}/users/me/avatar`,{method:"PATCH",headers:{authorization:this._authToken,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}}({baseURL:"https://around-api.en.tripleten-services.com/v1",authToken:"ea161ff4-cda4-4a20-a8db-64fec38336d8"});m.getAppInfo().then((e=>{let[t,r]=e;L.setUserInfo({name:t.name,bio:t.about}),L.changeAvatarImage(t.avatar),_.renderItems(r)})).catch((e=>{console.error(`Failed to load app info: ${e}`)}));const _=new class{constructor(e,t){let{renderer:r}=e;this._items=[],this._renderer=r,this._container=document.querySelector(t)}renderItems(e){this._items=e,this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({renderer:e=>{_.addItem(C(e))}},".cards__list"),p=new u({modalSelector:"#add-card-modal",handleFormSubmit:e=>{p.renderLoading(!0),m.addCard({name:e.title,link:e.link}).then((e=>{_.addItem(C(e))})).catch((e=>{console.error(e)})).finally((()=>{p.renderLoading(!1),p.close()}))}}),E=new u({modalSelector:"#profile-edit-modal",handleFormSubmit:e=>{E.renderLoading(!0),m.editProfile({name:e.title,about:e.bio}).then((e=>{L.setUserInfo({name:e.name,bio:e.about})})).catch((e=>{console.error(e)})).finally((()=>{E.renderLoading(!1),E.close()}))}}),k=new u({modalSelector:"#confirm-delete-modal",handleFormSubmit:y}),v=new u({modalSelector:"#change-avatar-modal",handleFormSubmit:e=>{v.renderLoading(!0),m.changeAvatar(e.link).then((e=>{L.changeAvatarImage(e.avatar),v.close()})).catch((e=>{console.error(e)})).finally((()=>{v.renderLoading(!1),v.close()}))}}),b=new class extends h{constructor(e){super({modalSelector:e}),this._modalCardImage=this._modalElement.querySelector("#modal-image"),this._modalCardTitle=this._modalElement.querySelector("#modal-title")}open(e){this._modalCardImage.src=e.link,this._modalCardImage.alt=e.name,this._modalCardTitle.textContent=e.name,super.open()}}("#card-image-modal"),L=new class{constructor(e){let{name:t,bio:r,avatar:s}=e;this._name=document.querySelector(t),this._bio=document.querySelector(r),this._avatar=document.querySelector(s)}changeAvatarImage(e){this._avatar.src=e}getUserInfo(){return{name:this._name.textContent,bio:this._bio.textContent,avatar:this._avatar.src}}setUserInfo(e){let{name:t,bio:r}=e;this._name.textContent=t,this._bio.textContent=r}}({name:".profile__title",bio:".profile__bio",avatar:".profile__avatar"});b.setEventListeners(),p.setEventListeners(),E.setEventListeners(),k.setEventListeners(),v.setEventListeners();const g=new c(e,o),f=new c(e,i),S=new c(e,l);function C(e){const t=new d({data:e,handleImageClick:()=>{b.open(e)},handleLikeClick:e=>{m.likeCardStatus(e.getId(),!e._isLiked).then((t=>{e.handleLike(t.isLiked)})).catch((e=>{console.log(e)}))},handleDeleteCardClick:y},"#card-template");return t.getView()}function y(e){k.open(),k.confirmDelete((()=>{m.deleteCard(e.getId()).then((()=>{e.handleDeleteCard(),k.close()})).catch((e=>{console.log(e)}))}))}g.enableValidation(),f.enableValidation(),S.enableValidation(),t.addEventListener("click",(()=>{const e=L.getUserInfo();r.value=e.name,s.value=e.bio,E.open(),g.toggleButtonState()})),a.addEventListener("click",(()=>{p.open(),f.resetValidation()})),n.addEventListener("click",(()=>{v.open(),S.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTNCc0MsT0FBT0MsSUFDTkMsUUFBUXVELElBQUl4RCxFQUFJLEdBQ2hCLEdBRVIsQ0EzQ0FvRCxFQUFrQm5HLG1CQUNsQm9HLEVBQWlCcEcsbUJBQ2pCcUcsRUFBMEJyRyxtQkE0QzFCaEYsRUFBa0JnQyxpQkFBaUIsU0FBUyxLQUMxQyxNQUFNeUosRUFBWW5DLEVBQUtuQyxjQUN2QmhILEVBQWtCdUcsTUFBUStFLEVBQVVySyxLQUNwQ2hCLEVBQWdCc0csTUFBUStFLEVBQVVqQyxJQUNsQ2lCLEVBQWlCbkYsT0FDakI2RixFQUFrQmhILG1CQUFtQixJQUd2QzVELEVBQWN5QixpQkFBaUIsU0FBUyxLQUN0Q3NJLEVBQWFoRixPQUNiOEYsRUFBaUI3RyxpQkFBaUIsSUFHcEM5RCxFQUFtQnVCLGlCQUFpQixTQUFTLEtBQzNDNEksRUFBa0J0RixPQUNsQitGLEVBQTBCOUcsaUJBQWlCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvTW9kYWwuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL01vZGFsV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQVBJLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNhcmRTZWxlY3RvcnMgPSB7XG4gIGNhcmRMaXN0RWw6IFwiLmNhcmRzX19saXN0XCIsXG4gIGNhcmRUZW1wbGF0ZTogXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICBwcmV2aWV3TW9kYWw6IFwiI2NhcmQtaW1hZ2UtbW9kYWxcIixcbn07XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiLFxuKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQmlvSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYmlvLWlucHV0XCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1lZGl0LWZvcm1cIl07XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiYWRkLWNhcmQtZm9ybVwiXTtcbmV4cG9ydCBjb25zdCBjaGFuZ2VBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19hdmF0YXItZWRpdC1idXR0b25cIixcbik7XG5leHBvcnQgY29uc3QgY2hhbmdlQXZhdGFyRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiY2hhbmdlLWF2YXRhci1mb3JtXCJdO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgZGF0YSwgaGFuZGxlSW1hZ2VDbGljaywgaGFuZGxlTGlrZUNsaWNrLCBoYW5kbGVEZWxldGVDYXJkQ2xpY2sgfSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICkge1xuICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLmxpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZENsaWNrID0gaGFuZGxlRGVsZXRlQ2FyZENsaWNrO1xuICB9XG5cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICAvLyBcIi5jYXJkX19saWtlLWJ1dHRvblwiXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICAgIC8vIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZENsaWNrKHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfaGFuZGxlTGlrZUljb24oKSB7XG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUxpa2UoaXNMaWtlZCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICAvL2dldCBjYXJkIHZpZXdcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIsXG4gICAgKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLm5hbWU7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMubmFtZTtcbiAgICAvL3NldCBldnQgbGlzdGVuZXJzXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xuICAgIC8vcmV0dXJuIGNhcmRcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsKSB7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCIgXCI7XG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbHMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuICFpbnB1dExpc3QuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX2NoZWNrRm9ybVZhbGlkaXR5KGlucHV0RWwpIHtcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tGb3JtVmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcih7IG1vZGFsU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX21vZGFsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW9kYWxTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX21vZGFsRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX21vZGFsRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldnQua2V5ID09PSBcImVzY1wiIHx8IGV2dC5rZXlDb2RlID09PSAyNykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX21vZGFsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX21vZGFsRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhGb3JtIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcih7IG1vZGFsU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHsgbW9kYWxTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9tb2RhbEZvcm0gPSB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fbW9kYWxGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcbiAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fbW9kYWxGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbiAgfVxuXG4gIGNvbmZpcm1EZWxldGUoaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9pbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlcztcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX21vZGFsRm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuXG4vL2ltcG9ydHNcblxuaW1wb3J0IHtcbiAgY2FyZFNlbGVjdG9ycyxcbiAgc2V0dGluZ3MsXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBwcm9maWxlVGl0bGVJbnB1dCxcbiAgcHJvZmlsZUJpb0lucHV0LFxuICBwcm9maWxlRWRpdEZvcm0sXG4gIGFkZENhcmRCdXR0b24sXG4gIGFkZENhcmRGb3JtLFxuICBjaGFuZ2VBdmF0YXJCdXR0b24sXG4gIGNoYW5nZUF2YXRhckZvcm0sXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBNb2RhbFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEZvcm0uanNcIjtcbmltcG9ydCBNb2RhbFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Nb2RhbFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FQSS5qc1wiO1xuXG4vL0FQSVxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVUkw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgYXV0aFRva2VuOiBcImVhMTYxZmY0LWNkYTQtNGEyMC1hOGRiLTY0ZmVjMzgzMzZkOFwiLFxufSk7XG5cbmFwaVxuICAuZ2V0QXBwSW5mbygpXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRzXSkgPT4ge1xuICAgIHVzZXIuc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgIGJpbzogdXNlckRhdGEuYWJvdXQsXG4gICAgfSk7XG4gICAgdXNlci5jaGFuZ2VBdmF0YXJJbWFnZSh1c2VyRGF0YS5hdmF0YXIpO1xuICAgIHNlY3Rpb24ucmVuZGVySXRlbXMoY2FyZHMpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIGFwcCBpbmZvOiAke2Vycn1gKTtcbiAgfSk7XG5cbi8vaW5zdGFudGlhdGVcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xuICAgIH0sXG4gIH0sXG4gIGNhcmRTZWxlY3RvcnMuY2FyZExpc3RFbCxcbik7XG5cbmNvbnN0IG5ld0NhcmRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcbiAgbW9kYWxTZWxlY3RvcjogXCIjYWRkLWNhcmQtbW9kYWxcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBuZXdDYXJkTW9kYWwucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5hZGRDYXJkKHtcbiAgICAgICAgbmFtZTogZGF0YS50aXRsZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGRhdGEpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBuZXdDYXJkTW9kYWwucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIG5ld0NhcmRNb2RhbC5jbG9zZSgpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcblxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcbiAgbW9kYWxTZWxlY3RvcjogXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgZWRpdFByb2ZpbGVNb2RhbC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLmVkaXRQcm9maWxlKHtcbiAgICAgICAgbmFtZTogZGF0YS50aXRsZSxcbiAgICAgICAgYWJvdXQ6IGRhdGEuYmlvLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHVzZXIuc2V0VXNlckluZm8oeyBuYW1lOiBkYXRhLm5hbWUsIGJpbzogZGF0YS5hYm91dCB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBlZGl0UHJvZmlsZU1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgICBlZGl0UHJvZmlsZU1vZGFsLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5jb25zdCBjb25maXJtRGVsZXRlTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XG4gIG1vZGFsU2VsZWN0b3I6IFwiI2NvbmZpcm0tZGVsZXRlLW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGNvbmZpcm1EZWxldGVDYXJkLFxufSk7XG5cbmNvbnN0IGNoYW5nZUF2YXRhck1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNjaGFuZ2UtYXZhdGFyLW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgY2hhbmdlQXZhdGFyTW9kYWwucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5jaGFuZ2VBdmF0YXIoZGF0YS5saW5rKVxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgIHVzZXIuY2hhbmdlQXZhdGFySW1hZ2UodXNlckRhdGEuYXZhdGFyKTtcbiAgICAgICAgY2hhbmdlQXZhdGFyTW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBjaGFuZ2VBdmF0YXJNb2RhbC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgY2hhbmdlQXZhdGFyTW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5cbmNvbnN0IGltYWdlTW9kYWwgPSBuZXcgTW9kYWxXaXRoSW1hZ2UoY2FyZFNlbGVjdG9ycy5wcmV2aWV3TW9kYWwpO1xuXG5jb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZTogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgYmlvOiBcIi5wcm9maWxlX19iaW9cIixcbiAgYXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcbn0pO1xuXG4vLyAvL2luaXRpYWxpemUgaW5zdGFuY2VzXG5cbmltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbm5ld0NhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuZWRpdFByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuY29uZmlybURlbGV0ZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jaGFuZ2VBdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyAvKiBWYWxpZGF0aW9uICovXG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIHByb2ZpbGVFZGl0Rm9ybSk7XG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGFkZENhcmRGb3JtKTtcbmNvbnN0IGNoYW5nZUF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgY2hhbmdlQXZhdGFyRm9ybSk7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNoYW5nZUF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyAvKiBGdW5jdGlvbnMgKi9cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICB7XG4gICAgICBkYXRhLFxuICAgICAgaGFuZGxlSW1hZ2VDbGljazogKCkgPT4ge1xuICAgICAgICBpbWFnZU1vZGFsLm9wZW4oZGF0YSk7XG4gICAgICB9LFxuICAgICAgaGFuZGxlTGlrZUNsaWNrOiAoY2FyZCkgPT4ge1xuICAgICAgICBhcGlcbiAgICAgICAgICAubGlrZUNhcmRTdGF0dXMoY2FyZC5nZXRJZCgpLCAhY2FyZC5faXNMaWtlZClcbiAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY2FyZC5oYW5kbGVMaWtlKGRhdGEuaXNMaWtlZCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVEZWxldGVDYXJkQ2xpY2s6IGNvbmZpcm1EZWxldGVDYXJkLFxuICAgIH0sXG4gICAgY2FyZFNlbGVjdG9ycy5jYXJkVGVtcGxhdGUsXG4gICk7XG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcbn1cblxuZnVuY3Rpb24gY29uZmlybURlbGV0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uZmlybURlbGV0ZU1vZGFsLm9wZW4oKTtcbiAgY29uZmlybURlbGV0ZU1vZGFsLmNvbmZpcm1EZWxldGUoKCkgPT4ge1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZERhdGEuZ2V0SWQoKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZERhdGEuaGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgICAgICBjb25maXJtRGVsZXRlTW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH0pO1xufVxuLyogRXZlbnQgTGlzdGVuZXJzICovXG5cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJJbnB1dCA9IHVzZXIuZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VySW5wdXQubmFtZTtcbiAgcHJvZmlsZUJpb0lucHV0LnZhbHVlID0gdXNlcklucHV0LmJpbztcbiAgZWRpdFByb2ZpbGVNb2RhbC5vcGVuKCk7XG4gIGVkaXRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG59KTtcblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdDYXJkTW9kYWwub3BlbigpO1xuICBhZGRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmNoYW5nZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjaGFuZ2VBdmF0YXJNb2RhbC5vcGVuKCk7XG4gIGNoYW5nZUF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgYXV0aFRva2VuIH0pIHtcbiAgICB0aGlzLl9iYXNlVVJMID0gYmFzZVVSTDtcbiAgICB0aGlzLl9hdXRoVG9rZW4gPSBhdXRoVG9rZW47XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vL3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFRva2VuLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldEFwcEluZm8oKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJJbmZvKCksIHRoaXMuZ2V0SW5pdGlhbENhcmRzKCldKTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVVJMfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgYWJvdXQgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbGlrZUNhcmRTdGF0dXMoY2FyZElkLCBsaWtlKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogbGlrZSA/IFwiUFVUXCIgOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgY2hhbmdlQXZhdGFyKGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhUb2tlbixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IGxpbmsgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfVxufVxuXG4vLyBFbmRwb2ludHM6XG4vKlVzZXIgcm91dGVzXG5QQVRDSCAvdXNlcnMvbWUvYXZhdGFyIOKAkyBVcGRhdGUgYXZhdGFyXG5cbkNhcmQgcm91dGVzXG5HRVQgL2NhcmRzIOKAkyBHZXQgYWxsIGNhcmRzXG5ERUxFVEUgL2NhcmRzLzpjYXJkSWQg4oCTIERlbGV0ZSBhIGNhcmRcblBVVCAvY2FyZHMvOmNhcmRJZC9saWtlcyDigJMgTGlrZSBhIGNhcmRcbkRFTEVURSAvY2FyZHMvOmNhcmRJZC9saWtlcyDigJMgRGlzbGlrZSBhIGNhcmQgKi9cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBbXTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcbiAgfVxufVxuIiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aEltYWdlIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcihtb2RhbFNlbGVjdG9yKSB7XG4gICAgc3VwZXIoeyBtb2RhbFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX21vZGFsQ2FyZEltYWdlID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW1hZ2VcIik7XG4gICAgdGhpcy5fbW9kYWxDYXJkVGl0bGUgPSB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC10aXRsZVwiKTtcbiAgfVxuXG4gIG9wZW4oZGF0YSkge1xuICAgIHRoaXMuX21vZGFsQ2FyZEltYWdlLnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9tb2RhbENhcmRJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbW9kYWxDYXJkVGl0bGUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgYmlvLCBhdmF0YXIgfSkge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xuICAgIHRoaXMuX2JpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYmlvKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhcik7XG4gIH1cblxuICBjaGFuZ2VBdmF0YXJJbWFnZShhdmF0YXIpIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBiaW86IHRoaXMuX2Jpby50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBiaW8gfSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2Jpby50ZXh0Q29udGVudCA9IGJpbztcbiAgfVxufVxuIl0sIm5hbWVzIjpbInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZUJpb0lucHV0IiwicHJvZmlsZUVkaXRGb3JtIiwiZm9ybXMiLCJhZGRDYXJkQnV0dG9uIiwiYWRkQ2FyZEZvcm0iLCJjaGFuZ2VBdmF0YXJCdXR0b24iLCJjaGFuZ2VBdmF0YXJGb3JtIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZENsaWNrIiwidGhpcyIsIm5hbWUiLCJsaW5rIiwiX2lkIiwiX2lzTGlrZWQiLCJpc0xpa2VkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVEZWxldGVDYXJkQ2xpY2siLCJnZXRJZCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkSW1hZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIl9jYXJkRWxlbWVudCIsInJlbW92ZSIsIl9oYW5kbGVMaWtlSWNvbiIsImNsYXNzTGlzdCIsImFkZCIsImhhbmRsZUxpa2UiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbCIsIl9mb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2Zvcm1FbCIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsIl9lcnJvck1lc3NhZ2VFbCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsInJlc2V0VmFsaWRhdGlvbiIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJkaXNhYmxlZCIsImlucHV0TGlzdCIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0Zvcm1WYWxpZGl0eSIsImVuYWJsZVZhbGlkYXRpb24iLCJlIiwicHJldmVudERlZmF1bHQiLCJNb2RhbCIsIm1vZGFsU2VsZWN0b3IiLCJfbW9kYWxFbGVtZW50Iiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImtleUNvZGUiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsIk1vZGFsV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfbW9kYWxGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRMaXN0IiwiX3NhdmVCdXR0b24iLCJjb25maXJtRGVsZXRlIiwiX2dldElucHV0VmFsdWVzIiwiX2lucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInJlc2V0IiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImFwaSIsImJhc2VVUkwiLCJhdXRoVG9rZW4iLCJfYmFzZVVSTCIsIl9hdXRoVG9rZW4iLCJnZXRVc2VySW5mbyIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0QXBwSW5mbyIsImFsbCIsImVkaXRQcm9maWxlIiwiX3JlZjIiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkQ2FyZCIsIl9yZWYzIiwibGlrZUNhcmRTdGF0dXMiLCJjYXJkSWQiLCJsaWtlIiwiZGVsZXRlQ2FyZCIsImNoYW5nZUF2YXRhciIsImF2YXRhciIsInVzZXJEYXRhIiwiY2FyZHMiLCJ1c2VyIiwic2V0VXNlckluZm8iLCJiaW8iLCJjaGFuZ2VBdmF0YXJJbWFnZSIsInNlY3Rpb24iLCJyZW5kZXJJdGVtcyIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsInByZXBlbmQiLCJjcmVhdGVDYXJkIiwibmV3Q2FyZE1vZGFsIiwidGl0bGUiLCJmaW5hbGx5IiwiZWRpdFByb2ZpbGVNb2RhbCIsImNvbmZpcm1EZWxldGVNb2RhbCIsImNvbmZpcm1EZWxldGVDYXJkIiwiY2hhbmdlQXZhdGFyTW9kYWwiLCJpbWFnZU1vZGFsIiwiX21vZGFsQ2FyZEltYWdlIiwiX21vZGFsQ2FyZFRpdGxlIiwiX25hbWUiLCJfYmlvIiwiX2F2YXRhciIsImVkaXRGb3JtVmFsaWRhdG9yIiwiYWRkRm9ybVZhbGlkYXRvciIsImNoYW5nZUF2YXRhckZvcm1WYWxpZGF0b3IiLCJjYXJkIiwibG9nIiwiY2FyZERhdGEiLCJ1c2VySW5wdXQiXSwic291cmNlUm9vdCI6IiJ9